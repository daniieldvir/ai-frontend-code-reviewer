<div class="info-popup active" (click)="close()">
  <div class="info-popup-content" (click)="$event.stopPropagation()">
    <header>
      <span>Issue Info</span>
      @if (issue()) {
      <div class="header-badges">
        <span class="severity-badge" [attr.data-severity]="issue()!.severity">{{ issue()!.severity }}</span>
        <span class="category-badge">{{ issue()!.category }}</span>
      </div>
      }
    </header>
    <div class="content">
      <h3>{{ issue()?.explanation }}</h3>

      @if (issue()?.detailedExplanation && issue()?.detailedExplanation !== issue()?.explanation) {
      <div class="detailed-section">
        <h4>ðŸ“– Detailed Explanation</h4>
        <p class="detailed-text">{{ issue()!.detailedExplanation }}</p>
      </div>
      }

      <div class="suggestion-section">
        <h4>ðŸ’¡ Suggestion</h4>
        <p>{{ issue()?.suggestion }}</p>
      </div>
    </div>
    <footer>
      <button (click)="close()">Close</button>
    </footer>
  </div>
</div>